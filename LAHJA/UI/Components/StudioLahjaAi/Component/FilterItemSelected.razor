@using LAHJA.Data.UI.Components.StudioLahjaAiVM
@using LAHJA.Them


 @* <head>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
 </head> *@

<MudSelect T="FilterItemData" ValueChanged="OnSelectionChanged" Label="@Filter.Title" Placeholder="Please Select" style="font-size:12px !important" AdornmentIcon="@Filter.Icon" AdornmentColor="AppColors.BASE_COLOR_ENUM">
   @foreach (var option in Filter.Options)
        {

        <MudSelectItem    Value="@option">

            <MudText Typo="Typo.caption">    @option.Text[CurrentLanguage]</MudText>
         
        </MudSelectItem>
        }
</MudSelect>

@* <MudButtonGroup Class="m-1 d-flex flex-row justify-content-center align-items-center border-1 rounded-5 px-1" Color="Color.Surface" Size="Size.Small">


    <!-- Dropdown Menu -->
    <MudMenu Icon="@Icons.Material.Filled.ArrowDropDown" Class="b-0" Dense="true" AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.TopCenter">
        @foreach (var option in Filter.Options)
        {
            <MudMenuItem OnClick="@(() => OnSelectionChanged(option))">
                @option.Text[CurrentLanguage]
            </MudMenuItem>
        }
    </MudMenu>
    <!-- Title Button -->
    <MudText Class="display-computer-mode b-0"> @Filter.Title</MudText>

    <!-- Icon Button -->
    <MudIcon Class="b-0" Icon="@Filter.Icon" Color="AppColors.BASE_COLOR_ENUM" Size="Size.Small" />

    

</MudButtonGroup> *@

@* <div class="btn-group">

    <MudIcon Icon="@Filter.Icon" Color="AppColors.BASE_COLOR_ENUM" Size="Size.Small" />
    <button class="btn btn-secondary btn-sm display-computer-mode" type="button">
        @Filter.Title
    </button>
    <button type="button" class="btn btn-sm btn-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">@Filter.Title</span>
      
    </button>
    <ul class="dropdown-menu">
        @foreach (var option in Filter.Options)
        {
            <li><button class="dropdown-item" onclick="@(()=>OnSelectionChanged(option))"> @option.Text[CurrentLanguage]</button></li>
            
        }
    </ul>
</div> *@

@*  <MudSelect T="FilterItemData" Label="@Filter.Title" OpenIcon="@Filter.Icon" AdornmentColor="Color.Secondary" Variant="Variant.Outlined" ValueChanged="@(Filter.OnSelectionChanged)" Class="w18 display-computer-mode nav-bar_font p-2" Style="border-radius:15px !important;">
     @foreach (var option in Filter.Options)
     {

         <MudSelectItem T="FilterItemData" Value="@option"  Class="nav-bar_font p-2">
              @if (!string.IsNullOrEmpty(option.Icon)){
                  <MudIcon Icon="@option.Icon" Size="Size.Small" />
              }  
             option.Text[CurrentLanguage]
         </MudSelectItem>
     }
 </MudSelect> *@


 @* <MudSelect T="FilterItemData" OpenIcon="@Filter.Icon" CloseIcon="@Icons.Material.Filled.Flag"  AdornmentColor="Color.Secondary" Variant="Variant.Outlined" ValueChanged="@(Filter.OnSelectionChanged)" Class="nav-bar_font p-0 mb-2 display-mobile-mode" style="border-radius:20px !important;height:20px !important">
     @foreach (var option in Filter.Options)
     { *@

         @* <MudSelectItem T="FilterItemData" Value="@option" Class="nav-bar_font p-0"> *@
             @*       @if (!string.IsNullOrEmpty(option.Icon)){
         <MudIcon Icon="@option.Icon" Size="Size.Small" />
         } *@
@*              @option.Text[CurrentLanguage]
         </MudSelectItem>
     }
 </MudSelect> *@


@code {

    [Parameter]
    public string CurrentLanguage { get; set; } = "en";

    [Parameter]
    public StudioFilterDefinition Filter { get; set; } = new();
    private string stringValue { get; set; }

    private void OnSelectionChanged(FilterItemData item)
    {
        if (Filter!=null && Filter.OnSelectionChanged.HasDelegate)
        {
            Filter.OnSelectionChanged.InvokeAsync(item);
        }
    }

}


@* <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script> *@